!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2220e5f5-d0ff-4bff-94ca-9ab613ab6f28",e._sentryDebugIdIdentifier="sentry-dbid-2220e5f5-d0ff-4bff-94ca-9ab613ab6f28")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"b5bd925e"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8830],{1:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(29935),o=n(17844),a=n(93629),i=n(82643),s=n(67313),c=n.n(s),u=n(35651),l=n(17459),f=n(22531),d=n(80478),p=n(5053),h=n.n(p),g=n(89709),v=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function m(e){return w.apply(this,arguments)}function w(){return(w=(0,r._)(function(e){var t,n,r,a,s,c,u,p,m;return(0,i.YH)(this,function(i){switch(i.label){case 0:t=e.url,n=(0,l._)(e,["url"]),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,h()(t,{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},method:"post",body:JSON.stringify(n)})];case 2:return r=i.sent(),[3,4];case 3:throw(a=i.sent()).statusCode||(a.statusCode=504),a;case 4:if(c=(s=r.headers.get("content-type"))&&s.includes("application/json"),r.ok)return[3,9];if(!c)return[3,6];return[4,r.json()];case 5:return u=i.sent().message,[3,8];case 6:return[4,r.text()];case 7:u=i.sent(),i.label=8;case 8:throw new g.A(u||r.statusText).setExtras((0,o._)({url:t},n)).setStatusCode(r.status);case 9:if(c)return[3,11];return[4,r.text()];case 10:throw p=i.sent(),new g.A("Expected JSON response for connection metadata").setExtras((0,o._)({contentType:s,statusText:r.statusText,response:p,url:t},n)).setStatusCode(r.status);case 11:return[4,r.json()];case 12:var w;if(!((w=m=i.sent())&&(void 0===w?"undefined":(0,f._)(w))==="object"&&"token"in w&&"string"==typeof w.token&&"gurl"in w&&"string"==typeof w.gurl&&"conmanURL"in w&&"string"==typeof w.conmanURL&&("dotdevHostname"in w&&"string"==typeof w.dotdevHostname||(d.vF.error("Lore returned an incomplete metadata",{res:w}),w.dotdevHostname=""),1)))throw new g.A("Invalid format for connection metadata response").setExtras((0,o._)({connectionMetadata:m,url:t},n));if(!(m.token.startsWith("v2.public.")||v.test(m.token)))throw new g.A("Expected token to be PASETO- or base64-encoded").setExtras((0,o._)({connectionMetadata:m,url:t},n));return[2,m]}})})).apply(this,arguments)}var y=n(43049),b=n(81869),E=n(37872),C=n(23010),_=!!n(2272).env.CAPTCHA_EMBEDS;function x(e){return S.apply(this,arguments)}function S(){return(S=(0,r._)(function(e){var t,n,r,s,l,f,d,p,h,g,v,w;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.replId,n=e.isLoggedIn,r=e.overrideClusterMetadata,s=e.requestedPid2Version,l=e.format,f=e.asViewer,d=e.retry,!b.V)throw Error("Expected apollo client");if(p=!!(c().query.lite||c().query.embed),h={url:"/data/repls/".concat(t,"/get_connection_metadata"),overrideClusterMetadata:r,requestedPid2Version:s,format:null!=l?l:u.api.token.ReplToken.WireFormat.PROTOBUF,clientVersion:"b5bd925e",hCaptchaSiteKey:C.lh,isEmbed:p,retry:d||0,asViewer:f},n||p&&!_)return[3,8];i.label=1;case 1:i.trys.push([1,7,,8]),i.label=2;case 2:return i.trys.push([2,4,,6]),[4,(0,y.hw)({action:"genReplToken"})];case 3:return v=i.sent(),[3,6];case 4:return i.sent(),[4,(0,C.Ay)()];case 5:return g=i.sent(),[3,6];case 6:return[2,m((0,a._)((0,o._)({},h),{captcha:g,recaptchaToken:v}))];case 7:return w=i.sent(),E.vF.error("Goval connection failure",{errorMessage:w&&w.message||"unidentified failure",replid:t,reason:"captcha",context:"services"}),[2,x({replId:t,overrideClusterMetadata:r,retry:(d||0)+1,requestedPid2Version:s,format:l,isLoggedIn:n,asViewer:f})];case 8:return[2,m(h)]}})})).apply(this,arguments)}},6164:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,gT:()=>a});var r=n(38356);function o(){return new r.EventEmitter}function a(e,t){return function(n){return e.on(t,n),function(){e.off(t,n)}}}},11602:(e,t,n)=>{"use strict";n.d(t,{KN:()=>b.K,no:()=>_,wF:()=>C,Ay:()=>A});var r=n(29935),o=n(17844),a=n(93629),i=n(17459),s=n(86105),c=n(82643),u=n(90629),l=n(8696),f=n.n(l),d=n(9701),p=n(35651),h=n(6164),g=n(28079),v=n(89709);function m(e){return w.apply(this,arguments)}function w(){return(w=(0,r._)(function(e){var t,n,r,o;return(0,c.YH)(this,function(a){return t=e.client,n=e.args,r=e.env,o=e.noUserEnv,[2,new Promise(function(e){var a=t.openChannel({service:"exec"},function(t){var i=t.channel,s="";i.onCommand(function(e){e.output&&(s+=e.output)}),i.request({exec:{args:n,env:r,noUserEnv:null!=o&&o}}).then(function(t){return t.channelClosed?void e({error:"Channel closed",output:s||null}):("open"===i.status&&a(),t.error)?void e({error:t.error,output:s||null}):void e({output:s,error:null})})})})]})})).apply(this,arguments)}var y=n(83715),b=n(47824),E=n(95570),C=5900,_=5904,x=1e-4>=Math.random();function S(e){return Math.min(1e3*Math.pow(2,e),6e4)+Math.floor(500*Math.random())}function A(e){var t,n=e.fetchConnectionMetadata,l=e.getOverrideClusterMetadata,w=e.getDotdevUrl,_=e.logger,A=e.onUnrecoverableError,T=e.performance,M=e.preFetchConnectionMetadata,O=e.registerReconnectionMonitor,R=e.unregisterReconnectionMonitor,N=e.crosisTimeout,k=e.crosisWebSocketClass,P=e.traceCtx,L=e.getPid2Version,D=(0,h.Ay)();D.setMaxListeners(1e3);var U=null,I=new d.Kj;I.setUnrecoverableErrorHandler(A),I.onDebugLog(function(e){if("breadcrumb"===e.type){t="container:state"===e.message?{containerState:e.data}:"data"in e?e.data:void 0,u.ZQ({category:"crosisV6",message:e.message,data:t});var t,n={replid:null==U?void 0:U.repl.id,language:null==U?void 0:U.repl.language};switch(e.message){case"timeout:hit":_.error("crosis connect timeout",n);break;case"onUnrecoverableError":var r=(0,o._)({errorMessage:e.data.message},n);_.error("crosis unrecoverable error",r);break;case"status:retrying":var a=e.data,s=a.error,c=(0,i._)(a,["error"]),l=(0,o._)({errorMessage:s.message},n,c);_.error("crosis retrying",l);break;case"status:connecting":case"status:reconnecting":var f=e.message.split(":")[1];_.info("crosis ".concat(f),(0,o._)({},n,"data"in e?e.data:void 0));break;case"websocket:polling fallback":_.info("crosis polling fallback",(0,o._)({},n))}}});var H=window.location.search.includes("debug=1");H&&I.onDebugLog(function(e){"log"===e.type&&E.log("in"===e.log.direction?"--\x3e":"<--",e.log.channel.service,{cmd:e.log.cmd,channel:e.log.channel})});var B=function(e){var t=void 0;if(void 0!==P&&e.service){var n="";"string"==typeof e.service?n=e.service:U&&(n=e.service(U)),n&&(t=(0,g.Ux)(P,"container.".concat(n,".openChannel")).span)}return t};return{logger:_,performance:T,onPortOpened:function(e){return D.on(b.s.PORT_OPEN,e),function(){D.removeListener(b.s.PORT_OPEN,e)}},onPortClosed:function(e){return D.on(b.s.PORT_CLOSE,e),function(){D.removeListener(b.s.PORT_CLOSE,e)}},onToast:function(e){return D.on(b.s.TOAST,e),function(){D.removeListener(b.s.TOAST,e)}},onConnectionStateChanged:function(e){return I.onConnectionStateChange(e)},connect:function(e){var t,u,h=this,g=e.context,m=e.fetchConnectionMetadataExtras,w=e.getMinimumRetryDelayMs,R=(0,i._)(e,["context","fetchConnectionMetadataExtras","getMinimumRetryDelayMs"]);I.getConnectionState()!==b.K.DISCONNECTED&&I.close(),U=g,O(function(){I.getConnectionState()===b.K.DISCONNECTED&&h.connect((0,o._)({context:g,fetchConnectionMetadataExtras:m,getMinimumRetryDelayMs:w},R))},function(){I.getConnectionState()!==b.K.DISCONNECTED&&h.close({expectReconnect:!0})});var P=this,B=(t=(0,r._)(function(e){var t,n,r,a,i,s;return(0,c.YH)(this,function(c){switch(c.label){case 0:if(t=e.chan0,n=e.gurl,r=e.isFirst,"open"!==t.status)return[2];return a=_.timeStart({gurl:n}),i=setTimeout(function(){_.error("ping with no response",{gurl:n}),P.connect((0,o._)({context:g,fetchConnectionMetadataExtras:m,getMinimumRetryDelayMs:w},R))},3e4),[4,t.request({ping:{}})];case 1:if(s=c.sent().channelClosed,clearTimeout(i),s)return[2];return r?a("latency to pid1",{type:"startup"}):x&&a("latency to pid1",{type:"periodic"}),setTimeout(function(){return B({chan0:t,gurl:n,isFirst:!1})},1e3),[2]}})}),function(e){return t.apply(this,arguments)}),F={getNextRetryDelayMs:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.max(S.apply(void 0,(0,s._)(t)),w())},context:g,reuseConnectionMetadata:!0,fetchConnectionMetadata:(u=(0,r._)(function(e){var t,r,i,s,u,f;return(0,c.YH)(this,function(c){switch(c.label){case 0:if("function"!=typeof M)return[3,2];return[4,M()];case 1:c.sent(),c.label=2;case 2:if("function"!=typeof l)return[3,4];return[4,l()];case 3:return r=c.sent(),[3,5];case 4:r=null,c.label=5;case 5:if(t=r,e.aborted)return[2,{error:d.wd.Aborted}];i=_.timeStart({hasCustomFetch:!!R.fetchConnectionMetadata}),c.label=6;case 6:if(c.trys.push([6,12,,13]),!R.fetchConnectionMetadata)return[3,8];return[4,R.fetchConnectionMetadata()];case 7:return s=c.sent(),[3,11];case 8:return u={asViewer:g.asViewer,replId:g.repl.id,isLoggedIn:!!g.currentUser},[4,L()];case 9:return[4,n.apply(void 0,[o._.apply(void 0,[(u.requestedPid2Version=c.sent(),u.format=p.api.token.ReplToken.WireFormat.PROTOBUF,u.overrideClusterMetadata=t,u),m])])];case 10:s=c.sent(),c.label=11;case 11:return[3,13];case 12:if(f=c.sent(),e.aborted)return[2,{error:d.wd.Aborted}];switch(f&&f.statusCode){case 400:case 401:case 403:throw new y.mU(f.statusCode);case 408:case 409:case 429:case 500:case 502:case 503:case 504:case 526:return _.warn("Retriable error while fetching connection metadata",{statusCode:f.statusCode,originalMessage:f.message}),[2,{error:d.wd.Retriable}]}throw f;case 13:if(e.aborted)return[2,{error:d.wd.Aborted}];return H&&E.log("connecting",s),i("fetched connection metadata"),[2,(0,a._)((0,o._)({},s),{error:null})]}})}),function(e){return u.apply(this,arguments)})};N&&N>0&&(F.timeout=N),k?F.WebSocketClass=k:"undefined"==typeof WebSocket&&(F.WebSocketClass=f());var Y=T.now(),V=0;I.open(F,function(e){var t,n=e.channel;H&&E.log("connected",{replId:g.repl.id});var r=n.onCommand(function(e){switch(e.body){case"portOpen":if(!e.portOpen)throw Error("portOpen only handles portOpen commands");var t=!!e.portOpen.forwarded,n=e.portOpen,r=n.address,o=n.cmdline,a=n.cgroup,i=n.pid,s=e.portOpen.port||0;if(8284===s||5901===s)return;D.emit(b.s.PORT_OPEN,{port:s,externalPort:e.portOpen.externalPort,isVnc:s===C,isForwarded:t,address:r,cmdline:o,cgroup:a,pid:i});break;case"portClose":if(!e.portClose)throw Error("portClose only handles portClose commands");var c=e.portClose.port||0,u=e.portClose.address;if(8284===c||5901===c)return;D.emit(b.s.PORT_CLOSE,{port:c,externalPort:e.portClose.externalPort,isVnc:c===C,address:u});break;case"protocolError":A(new v.A("goval panic").setExtra("message",null!=(f=null==(l=e.protocolError)?void 0:l.text)?f:"protocol error"));break;case"toast":var l,f,d,p=null==(d=e.toast)?void 0:d.text;if(!p)break;D.emit(b.s.TOAST,p)}});B({chan0:n,gurl:null==(t=I.getConnectionMetadata())?void 0:t.gurl,isFirst:!0}),window.v6ws=I.ws;var o=T.now()-Y;return _.info("connected to pid1",{time:o,reconnectCount:V,replid:g.repl.id,language:g.repl.language}),function(e){var t=e.willReconnect;if(r(),!t){U=null;return}Y=T.now(),V++}})},openChannel:function(e,t){var n=B(e);return I.openChannel(e,function(e){var r=e.channel.onCommand(function(e){if("protocolError"===e.body){var t,n;A(new v.A("goval panic").setExtra("message",null!=(n=null==(t=e.protocolError)?void 0:t.text)?n:"protocol error"))}}),o=t(e);return void 0!==n&&n.end(),function(e){o&&o(e),r&&r()}})},getConnectionState:function(){return I.getConnectionState()},exec:(0,r._)(function(){var e,t,n,r=arguments;return(0,c.YH)(this,function(o){for(t=Array(e=r.length),n=0;n<e;n++)t[n]=r[n];return[2,m({client:I,args:t})]})}),execImmediately:(0,r._)(function(){var e,t,n,r=arguments;return(0,c.YH)(this,function(o){for(t=Array(e=r.length),n=0;n<e;n++)t[n]=r[n];return[2,m({client:I,args:t,noUserEnv:!0})]})}),execWithEnv:(t=(0,r._)(function(e){var t,n,r,o=arguments;return(0,c.YH)(this,function(a){for(n=Array((t=o.length)>1?t-1:0),r=1;r<t;r++)n[r-1]=o[r];return[2,m({client:I,args:n,env:e})]})}),function(e){return t.apply(this,arguments)}),close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{expectReconnect:!1};I.getConnectionState()!==b.K.DISCONNECTED&&I.close(e)},destroy:function(){I.destroy(),D.removeAllListeners(),R()},client:function(){return I},focus:function(){var e=I.getChannel(0);e&&e.send({focused:{}})},getConnectionMetadata:function(){return I.getConnectionMetadata()},getContext:function(){return U},getDotdevUrl:function(){var e=I.getConnectionMetadata();if(!e||I.getConnectionState()!==b.K.CONNECTED)throw Error("Cannot get dot dev url when container is not connected");return w(e)},unrecoverableError:function(e,t){I.destroy(),D.removeAllListeners(),A(t?v.A.wrap(e).setExtras(t):e)}}}},11709:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(29935),o=n(82643),a=n(90629),i=n(37872),s=n(30908),c=n(95570);function u(){return l.apply(this,arguments)}function l(){return(l=(0,r._)(function(){var e,t,n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return e="0.0.1486",window.location.search.includes("debug=1")&&"string"==typeof(t=s.A.get("pid2Version"))&&(c.log("using pid2 version from localStorage",t),e=t),[3,2];case 1:return n=r.sent(),null!=e||(e=null!=n?n:"dev"),[2,e];case 2:if(!e)throw Error("expected PID2_VERSION to be set in prod");return(0,i.nY)(e),a.NA("pid2Version",e),[2,e]}})})).apply(this,arguments)}},26968:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(11797),o=n(49069);function a(e,t){var n=[],a=!0,i=!1,s=void 0;try{for(var c,u=(0,r.Ui)(e.toString(),t.toString())[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value,f=l.fromA,d=l.fromB,p=l.toA,h=l.toB;f===p&&n.push({from:f,insert:t.slice(d,h)}),d===h&&n.push({from:f,to:p,insert:""}),f!==p&&d!==h&&n.push({from:f,to:p,insert:t.slice(d,h)})}}catch(e){i=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}return o.VR.of(n,e.length)}},28079:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>p,ce:()=>u,eT:()=>f,mY:()=>h,rA:()=>s});var r=n(29935),o=n(82643),a=n(50548),i=n(3136),s="repl.it-web",c=a.u.getTracer(s);function u(e,t,n){return l.apply(this,arguments)}function l(){return(l=(0,r._)(function(e,t,n){var r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=c.startSpan(t,void 0,e),i=a.u.setSpan(e,r),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,n(i)];case 2:return[2,o.sent()];case 3:return r.end(),[7];case 4:return[2]}})})).apply(this,arguments)}function f(e,t,n){return d.apply(this,arguments)}function d(){return(d=(0,r._)(function(e,t,n){var r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(void 0!==e)return[3,2];return[4,n()];case 1:return[2,o.sent()];case 2:r=c.startSpan(t,void 0,e),i=a.u.setSpan(e,r),o.label=3;case 3:return o.trys.push([3,,5,6]),[4,n(i,r)];case 4:return[2,o.sent()];case 5:return r.end(),[7];case 6:return[2]}})})).apply(this,arguments)}function p(e,t){var n=c.startSpan(t,void 0,e),r=a.u.setSpan(e,n);return{span:n,childCtx:r}}function h(e){var t={};return new i.lm().inject(e,t,{set:function(e,t,n){e[t]=n}}),t}},38674:(e,t,n)=>{"use strict";n.d(t,{Dl:()=>o,ob:()=>a});var r=n(68387),o=(0,r.mc)("."),a=(0,r.mc)(".env");(0,r.mc)(".lesson"),(0,r.mc)(".tutorial")},45314:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,x:()=>c});var r=n(29935),o=n(82643),a=n(30908),i=n(95570);function s(){return(s=(0,r._)(function(){return(0,o.YH)(this,function(e){return a.A.get("gurl")?(i.log("Getting gurl from localstorage"),[2,a.A.get("gurl")]):[2,null]})})).apply(this,arguments)}function c(e){var t=function(e){try{t=new URL(e)}catch(e){return i.log("failed to parse gurl"),i.error(e),null}var t,n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&i.log(e,"Expected gurl protocol to be ws or wss, assuming insecure connection"),n.port||(n.port=n.secure?"443":"80"),n}(e);if(!t)return null;var n=t.secure,r=t.host,o=t.port;return"repl.it"===r||"gp-v2.replit.com"===r||"eval.replit.com"===r?null:{id:"development",gurl:"ws".concat(n?"s":"","://").concat(r,":").concat(o),conmanURL:"http".concat(n?"s":"","://").concat(r,":").concat(o),proxy:"http".concat(n?"s":"","://").concat(r.replace("eval","proxy"),":").concat(o)}}function u(){return l.apply(this,arguments)}function l(){return(l=(0,r._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,function(){return s.apply(this,arguments)}()];case 1:if(!(e=t.sent()))return[2,null];return[2,c(e)]}})})).apply(this,arguments)}},47824:(e,t,n)=>{"use strict";n.d(t,{K:()=>r.KN,s:()=>o});var r=n(9701),o=function(e){return e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.PORT_OPEN="PORT_OPEN",e.PORT_CLOSE="PORT_CLOSE",e.TOAST="TOAST",e}({})},53351:(e,t,n)=>{"use strict";n.d(t,{$J:()=>m,uq:()=>g,yk:()=>v});var r=n(62019),o=n(37743),a=n(1833),i=n(86105),s=n(89264),c=n(56058),u=n(684),l=n(27115),f=n(18497),d=n.n(f),p=n(57764),h=n.n(p);c.NZ("uuid",function(e){return h()(e)}),c.NZ("date-time",function(e){return d()(e)});var g=function(e){return u.ZU.Optional(u.ZU.Union([u.ZU.Null(),e]))},v=function(e){function t(e){var n;return(0,o._)(this,t),(n=(0,r._)(this,t)).name="Schema validation error",n.message=e.map(function(e){return"".concat(e.path,": ").concat(e.message)}).join("\n"),n.issues=e,n}return(0,a._)(t,e),t}((0,s._)(Error));function m(e,t){return new v((0,i._)(l.I(e,t)))}},53522:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(37743),o=n(48122),a=n(22531),i=n(64254).hp,s=function(){function e(t,n){if((0,r._)(this,e),this.asEncoding={},this.asBuffer=null,n&&"string"==typeof t)this.asEncoding[n]=t;else if(null==t)this.asBuffer=i.alloc(0);else if(t instanceof i)this.asBuffer=t;else if("string"==typeof t)this.asEncoding.utf8=t;else if(t instanceof ArrayBuffer)this.asBuffer=i.from(t);else{if(t instanceof e)return t;t instanceof Uint8Array?this.asBuffer=i.from(t):(void 0===t?"undefined":(0,a._)(t))==="object"&&"object"===(0,a._)(t.asEncoding)&&null!==t.asEncoding&&(t.asBuffer instanceof i||null===t.asBuffer)&&(this.asBuffer=t.asBuffer||null,"string"==typeof t.asEncoding.base64&&(this.asEncoding={base64:t.asEncoding.base64}),"string"==typeof t.asEncoding.utf8&&(this.asEncoding={utf8:t.asEncoding.utf8}))}}var t=e.prototype;return t.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";if(void 0!==this.asEncoding[e])return this.asEncoding[e];var t=this.toBuffer().toString(e);return this.asEncoding[e]=t,t},t.toJSON=function(){return{asEncoding:{base64:this.toString("base64")},asBuffer:null}},t.toBuffer=function(){if(this.asBuffer)return this.asBuffer;for(var e in this.asEncoding){var t=this.asEncoding[e];if("string"==typeof t){var n=i.from(t,e);return this.asBuffer=n,n}}return this.asBuffer=i.alloc(0),this.asBuffer},e.from=function(t,n){return new e(t,n)},e.isBuffer=function(t){return t instanceof e},(0,o._)(e,[{key:"length",get:function(){return void 0!==this.asEncoding.utf8?this.asEncoding.utf8.length:this.toBuffer().length}}]),e}()},57829:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(86105),o=n(74645);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wait:0},n=null,a=null,i=null,s=null;if(t.wait<0)throw Error("wait must be 0 or more");if(t.maxWait){if(t.maxWait<0)throw Error("maxWait must be 0 or more");if(t.maxWait<t.wait)throw Error("maxWait must be higher than wait")}function c(){a&&clearTimeout(a),a=null,s=null,n=null,i=null}function u(){if(!n||!a)throw Error("Expected to call debounced function once before flushing");var t=n,o=s;return c(),e.apply(void 0,(0,r._)(o)).then(function(e){return t.resolve(e),e}).catch(function(e){throw t.reject(e),e})}return Object.assign(function(){for(var e=arguments.length,r=Array(e),c=0;c<e;c++)r[c]=arguments[c];if(n){if(!a)throw Error("Did not expect to have deferred and no timeout");clearTimeout(a)}else n=(0,o.A)(),i=Date.now();return s=r,a=setTimeout(function(){u()},function(){if(!t.maxWait)return t.wait;if(!i)throw Error("Expected scheduledAt to be a set when getting wait");var e=Date.now()-i;return Math.min(t.maxWait-e,t.wait)}()),n.promise},{isScheduled:function(){return!!(n&&a)},cancel:function(){if(!a||!n)throw Error("Expected to call debounced function once before cancelling");var e=n;c(),e.reject(Error("Debounced function cancelled"))},flush:u})}},74645:(e,t,n)=>{"use strict";function r(){var e,t,n={promise:new Promise(function(n,r){e=n,t=r}),resolve:function(t){n.isFulfilled=!0,e(t)},reject:function(e){n.isFulfilled=!0,t(e)},isFulfilled:!1};return n}n.d(t,{A:()=>r})},74671:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,KN:()=>h.K});var r=n(29935),o=n(82643),a=n(67313),i=n.n(a),s=n(52968),c=n(11602),u=n(37872),l=n(77659),f=n(11709),d=n(1),p=n(45314),h=n(47824);function g(e){var t,n,a=e.onUnrecoverableError,h=e.ctx,g={register:function(e,r){return n(),window.addEventListener("online",e),window.addEventListener("offline",r),t=function(){window.removeEventListener("online",e),window.removeEventListener("offline",r)},n},unregister:n=function(){t&&(t(),t=void 0)}},m=g.register,w=g.unregister;return(0,c.Ay)({fetchConnectionMetadata:d.A,getOverrideClusterMetadata:p.A,getDotdevUrl:v,logger:u.vF,onUnrecoverableError:a,performance:window.performance,preFetchConnectionMetadata:(0,r._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:if(window.performance.clearMarks(s.pY.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(s.pY.fetchConnectionMetadataPageInvisibleEnd),e=u.vF.timeStart(),window.performance.mark(s.pY.fetchConnectionMetadataPageInvisibleStart),"/migrateReplToNix"===i().pathname)return[3,2];return[4,(0,l.w)()];case 1:t.sent(),t.label=2;case 2:window.performance.mark(s.pY.fetchConnectionMetadataPageInvisibleEnd),e("page visible fetch connection metadata"),t.label=3;case 3:return[2]}})}),registerReconnectionMonitor:m,unregisterReconnectionMonitor:w,traceCtx:h,getPid2Version:f.E})}function v(e){return e.dotdevHostname.endsWith(".localhost")?"http://".concat(e.dotdevHostname,":8081"):"https://".concat(e.dotdevHostname)}},77659:(e,t,n)=>{"use strict";n.d(t,{T:()=>u,w:()=>s});var r=n(29935),o=n(12694),a=n(82643),i=n(21462);function s(){return c.apply(this,arguments)}function c(){return(c=(0,r._)(function(){return(0,a.YH)(this,function(e){return"undefined"!=typeof document&&document.hidden?[2,new Promise(function(e){var t=function(){document.hidden||(document.removeEventListener("visibilitychange",t),e())};document.addEventListener("visibilitychange",t)})]:[2]})})).apply(this,arguments)}function u(){var e=(0,o._)((0,i.useState)(!1),2),t=e[0],n=e[1];return(0,i.useEffect)(function(){var e=function(){n(!document.hidden)};return document.addEventListener("visibilitychange",e),e(),function(){document.removeEventListener("visibilitychange",e)}},[]),t}},81085:()=>{},83715:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l,mU:()=>f,ub:()=>c});var r=n(62019),o=n(37743),a=n(1833),i=n(12694),s=n(89264),c=function(e){return e.NotFound="NotFound",e.NotAllowed="NotAllowed",e.ConcurrentReplLimit="ConcurrentReplLimit",e.LanguageTokenDenied="LanguageTokenDenied",e.RequiresRefresh="RequiresRefresh",e.CrosisChannel="CrosisChannel",e}({}),u={"repl not found":"NotFound","not allowed to run at this time":"NotAllowed","language tokens are only for logged out people.":"LanguageTokenDenied","user is required to refresh":"RequiresRefresh","channel with name ot":"CrosisChannel","cannot send any more commands after a close request on channel for ot":"CrosisChannel"};function l(e){var t=!0,n=!1,r=void 0;try{for(var o,a=Object.entries(u)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=(0,i._)(o.value,2),c=s[0],l=s[1];if(e.message.toLowerCase().includes(c))return l}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return null}var f=function(e){function t(e){return(0,o._)(this,t),(0,r._)(this,t,["user is required to refresh: "+e])}return(0,a._)(t,e),t}((0,s._)(Error))}}]);
//# sourceMappingURL=8830-52abb16f09e17615.js.map