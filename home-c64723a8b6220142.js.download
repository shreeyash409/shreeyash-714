!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=Error().stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="51a78299-89e4-4fae-be72-121e4f69adbf",n._sentryDebugIdIdentifier="sentry-dbid-51a78299-89e4-4fae-be72-121e4f69adbf")}catch(n){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"b5bd925e"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{19876:(n,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>X});var t=r(83846),a=r(12694),o=r(81073),i=r(67313),l=r(21462),u=r(17844),p=r(12584),s=r(41114),d=r(86997);function c(){var n=(0,p._)(["\n  query HomePage {\n    currentUser {\n      id\n      image\n      username\n      firstName\n      orgs(count: 1) {\n        ... on CurrentUserOrganizationConnection {\n          items {\n            org {\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}var g={},f=(0,s.J1)(c()),m=r(82775),h=r(18085),v=r(14900),_=r(91295),A=r(16358),y=r(70883),C=r(68389);function R(){var n=(0,p._)(["\n  fragment RecentReplsRepl on Repl {\n    id\n    title\n    iconUrl\n    timeUpdated\n    ...ReplLinkRepl\n    ...ComponentsReplActions\n    project {\n      id\n      title\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    hostingDeployment {\n      __typename\n      ... on HostingDeployment {\n        id\n        ...DeploymentItem\n        latestBuildStatus\n        currentBuild {\n          id\n          status\n          timeCreated\n          user {\n            id\n            displayName\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return R=function(){return n},n}var b=(0,s.J1)(R(),y.r,A.X,C.Pj);function w(){var n=(0,p._)(["\n  query HomeRecentReplsSection($count: Int!) {\n    recentRepls(count: $count) {\n      id\n      ...RecentReplsRepl\n    }\n    currentUser {\n      id\n      ...UserLinkCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return w=function(){return n},n}var U={},O=(0,s.J1)(w(),b,_.m),Y=r(18688),x=r(42793),I=r(18509),S=r(27023),k=r(86733),E=r(4616),D=r(85389),N=r(1035),T=(0,x.i7)({"0%":{opacity:0},"100%":{opacity:1}}),q=(0,I.x)({container:[{animation:"".concat(T," 300ms ease-out forwards")}],seeAllButton:[{alignSelf:"start"}],headerRow:[S.wp.minHeight(32)],cardContainer:[S.wp.display.grid,S.wp.gap(16),(0,t._)({gridTemplateColumns:"repeat(3, 1fr)"},S.$_.max("tabletMax"),[{gridTemplateColumns:"1fr"}])]});function P(){var n,e,r,t,i,p,s=(t={variables:{count:3},ssr:!1,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"},i=(0,u._)({},U,t),d.I(O,i)),c=s.data,g=s.loading,f=null!=(p=null==c?void 0:c.recentRepls)?p:[],m=(e=(n=(0,a._)((0,l.useState)(null),2))[0],r=n[1],(0,v.VM)({skip:null===e,pollInterval:null==e?void 0:e.pollInterval,onCompleted:function(n){if(null!==e){var t,a=e.attempts++;if(3===a&&r(null),(null==(t=n.currentUser)?void 0:t.personalOrgAuthorizations.__typename)!=="OrgAuthorizations"||n.currentUser.personalOrgAuthorizations.createRepl.isAuthorized)return void r(null);r({pollInterval:1e3*Math.pow(2,a),attempts:a})}}}),(0,l.useCallback)(function(){r({attempts:0,pollInterval:1e3})},[]));return!f.length||g?null:(0,o.FD)(D.S,{css:q.container,grow:!0,shrink:!0,gap:16,children:[(0,o.FD)(D.S,{css:q.headerRow,row:!0,gap:12,justify:"space-between",align:"center",children:[(0,o.Y)(E.Y9,{variant:"subheadBig",level:2,children:"Your recent Apps"}),(0,o.Y)(k.v,{href:"/replsDashboard",as:"/repls",prefetch:!1,iconRight:(0,o.Y)(N.A,{}),text:"View All",css:q.seeAllButton})]}),(0,o.Y)(D.S,{css:q.cardContainer,tag:"ol",children:f.map(function(n){return(0,o.Y)(Y.l,{repl:n,trackingContext:"homeRecentRepls",isOrg:!1,onDeleteRequested:m},n.id)})})]})}var J=r(1982),$=r(73745),z=r(85144),F=r(5247),B=r(28786),M=r(31155),H=r(41696),V=r(4736),L=(0,I.x)({homePageClean:[S.wp.pageContent,(0,t._)({maxWidth:800},S.$_.max("tabletMax"),{marginTop:"0"})]});let X=function(){var n,e,r,t=(n=(0,u._)({},g,void 0),d.I(f,n)).data,p=(0,J.A)().showConfirm,s=(0,i.useRouter)(),c=(0,a._)((0,l.useState)(null),2),v=c[0],_=c[1];(0,l.useEffect)(function(){if(s.query.upgrade){var n=s.query.upgrade;s.replace(s.pathname,"/~"),_({analyticsContext:{upgrade:{context:n}}})}},[s,p]);var A=null==t?void 0:t.currentUser,y=(0,a._)((0,l.useState)(!!s.query.supportform),2),C=y[0],R=y[1],b=(null==A?void 0:A.orgs.__typename)==="CurrentUserOrganizationConnection"&&(null==A?void 0:A.orgs.items.length)>0;return(0,o.FD)(M.A,{title:"Home",children:[(0,o.Y)(V.V,{}),(0,o.Y)(B.q,{}),(0,o.Y)(D.S,{gap:80,css:L.homePageClean,dataCy:"home-page",style:{marginTop:b?"calc(15vh - 48px)":"calc(20vh - 48px)"},children:A&&(0,o.FD)(o.FK,{children:[(0,o.Y)(D.S,{gap:16*!!b,children:(0,o.Y)(m.v,{owner:(0,o.Y)(h.X,{ownerName:null!=(e=A.firstName)?e:A.username,image:A.image}),onUpsell:function(){return _({analyticsContext:{upgrade:{context:"home_page",surface:"agent_entry_point"}},highlightUpsell:"agent"})}})}),(0,o.Y)(P,{})]})}),(0,o.Y)(z.a,{isOpen:C,onRequestClose:function(){R(!1)},children:(0,o.Y)(H.A,{onRequestClose:function(){R(!1)}})}),(0,o.Y)($.default,{isOpen:null!==v,onClose:function(){return _(null)},type:"purchase",highlightUpsell:null==v?void 0:v.highlightUpsell,analyticsContext:null!=(r=null==v?void 0:v.analyticsContext)?r:{upgrade:{context:"home_page"}}}),(0,o.Y)(F.A,{})]})}},42069:(n,e,r)=>{"use strict";r.d(e,{p:()=>p});var t=r(81073),a=r(66890),o=r(76319),i=r(74941),l=r(62862),u=r(10327);function p(n){var e=n.deployment,r=n.icon,p=void 0===r?(0,t.Y)(u.A,{}):r,s=(0,i.A)().trackAppOpen,d=(0,o.f)(e);return e.currentBuild.provider===a.Q0q.Cron?(0,t.Y)(l.A,{href:d.href,alt:"Scheduled Jobs have no accessible url",disabled:!0,children:p}):(0,t.Y)(l.A,{onClick:function(){s(e.repl.id)},href:d.href,alt:"Go to site",target:"_blank",children:p})}},46387:(n,e,r)=>{"use strict";r.d(e,{Z:()=>d,dV:()=>g});var t=r(17844),a=r(12584),o=r(41114),i=r(50175),l=r(82825);function u(){var n=(0,a._)(["\n  fragment AppCardApp on Repl {\n    id\n    title\n    iconUrl\n    url\n    isCurrentUserStarred\n    user {\n      id\n      ...OrgReplCreator\n    }\n    deploymentMetadata {\n      ... on DeploymentMetadata {\n        id\n        url\n        timeDeployed\n      }\n    }\n  }\n  ","\n"]);return u=function(){return n},n}function p(){var n=(0,a._)(["\n  mutation UpdateStarredApps($input: UpdateStarredAppsInput!) {\n    updateStarredApps(input: $input) {\n      ... on Org {\n        __typename\n        id\n        currentUserStarredApps {\n          ... on StarredApp {\n            id\n            repl {\n              id\n              ...AppCardApp\n            }\n          }\n        }\n        currentUserRecentOrgApps {\n          id\n          ...AppCardApp\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return n},n}var s={},d=(0,o.J1)(u(),l._L),c=(0,o.J1)(p(),d);function g(n){var e=(0,t._)({},s,n);return i.n(c,e)}},69625:(n,e,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return r(19876)}])},69719:(n,e,r)=>{"use strict";r.d(e,{e:()=>l});var t=r(12584),a=r(41114),o=r(46387);function i(){var n=(0,t._)(["\n  fragment CurrentUserRecentApps on Org {\n    currentUserRecentOrgApps {\n      ... on Repl {\n        id\n        ...AppCardApp\n      }\n    }\n  }\n  ","\n"]);return i=function(){return n},n}var l=(0,a.J1)(i(),o.Z)},74941:(n,e,r)=>{"use strict";r.d(e,{A:()=>m});var t=r(12694),a=r(17844),o=r(12584),i=r(41114),l=r(50175),u=r(69719);function p(){var n=(0,o._)(["\n  mutation TrackOrgAppOpen($input: TrackOrgAppOpenInput!) {\n    trackOrgAppOpen(input: $input) {\n      ... on Org {\n        id\n        ...CurrentUserRecentApps\n      }\n    }\n  }\n  ","\n"]);return p=function(){return n},n}var s={},d=(0,i.J1)(p(),u.e),c=r(71983),g=r(83603),f=r(17089);let m=function(){var n,e=(0,g.ET)(),r=e.orgId,o=e.orgRole,i=(0,t._)((n=(0,a._)({},s,void 0),l.n(d,n)),1)[0];return{trackAppOpen:function(n){r&&(i({variables:{input:{orgId:r,replId:n}}}),(0,f.u4)(c.AZ.ORG_APP_VIEWED,{replId:n,context:(0,g.po)({id:r}),orgRole:o}))}}}}},n=>{var e=e=>n(n.s=e);n.O(0,[4017,7433,3451,467,3214,7573,2252,4894,2032,2647,7742,7626,7368,6677,8264,8508,1963,4611,4357,3030,6549,4739,4254,7606,1650,2656,9119,113,3920,6822,3025,1701,4428,3049,3171,1155,4374,645,4639,4068,9968,5578,8830,9303,692,5701,6955,3800,3651,2485,7940,4279,6593,636,8792],()=>e(69625)),_N_E=n.O()}]);
//# sourceMappingURL=home-c64723a8b6220142.js.map