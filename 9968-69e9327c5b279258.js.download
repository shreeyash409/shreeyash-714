!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ac5295fc-8801-4e71-93d0-82e37df563b4",e._sentryDebugIdIdentifier="sentry-dbid-ac5295fc-8801-4e71-93d0-82e37df563b4")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"b5bd925e"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9968],{6518:(e,n,r)=>{r.d(n,{A:()=>b});var t=r(17844),i=r(93629),o=r(12694),a=r(67313),l=r(21462),u=r(12584),d=r(41114),c=r(50175);function s(){var e=(0,u._)(["\n  mutation ForkReplCreateRepl($input: CreateReplInput!) {\n    createRepl(input: $input) {\n      ... on Repl {\n        id\n        org {\n          id\n        }\n        url\n        isPrivate\n        language\n        nextPagePathname\n        origin {\n          id\n          isOwner\n        }\n        source {\n          release {\n            id\n            repl {\n              id\n              title\n              owner {\n                ... on User {\n                  id\n                  username\n                }\n                ... on Team {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}var p={},f=(0,d.J1)(s()),g=r(23186),h=r(83603),m=r(21762),v=r(1982),w=r(64631),k=r(17089),y=r(18427),Y=r(97298);function b(){var e,n,r,u,d,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=s.onFork,A=s.onError,_=s.navigateAfterFork,R=void 0===_||_,x=s.replLinkOptions,C=(0,a.useRouter)(),F=(0,m._P)({controlName:"flag-migrate-html"}),D=(0,v.A)().showError,E=(0,y.A)(),S=(0,o._)((e={onCompleted:function(e){var n=(null==e?void 0:e.createRepl.__typename)==="Repl"?e.createRepl:null;if(n&&(b&&b(e),R)){var r=(0,g.A)(n,F);if("/replEnvironmentDesktop"===C.pathname||"/replEnvironmentMobile"===C.pathname||"/replView"===C.pathname&&r){window.location.href=(0,Y.cY)(n,x);return}var o=(0,Y.q1)(n,x);C.push((0,i._)((0,t._)({},o.href),{pathname:E}),o.as)}}},n=(0,t._)({},p,e),c.n(f,n)),2),I=S[0],T=S[1],U=(null==(r=T.data)?void 0:r.createRepl.__typename)==="UserError"?null==(u=T.data)?void 0:u.createRepl.message:null==(d=T.error)?void 0:d.message;return(0,l.useEffect)(function(){U&&(D(U),A&&A())},[U,D,A]),[(0,l.useCallback)(function(e){var n=e.originId,r=e.replReleaseId,o=e.teamId,a=e.title,l=e.description,u=e.isPrivate,d=e.folderId,c=e.trackingData,s=e.forkToPersonal,p=e.orgId;(0,k.u4)(k.AZ.FORK_REQUESTED,c),I({variables:{input:{originId:n,replReleaseId:r,teamId:o,title:a,isPrivate:u,description:l,folderId:d,forkToPersonal:s,gitRemoteUrl:"",orgId:p}}}).then(function(e){var o,a,l,u,d,s,p,f,g,m,v,y,Y,b,A=(null==(o=e.data)?void 0:o.createRepl.__typename)==="Repl"?e.data.createRepl:null;A&&(0,k.u4)(k.AZ.REPL_CREATED,(0,i._)((0,t._)({isSignup:!1,isOnboarding:!1},c),{isForked:!0,isPrivate:A.isPrivate,replId:A.id,isRenamed:!1,language:A.language,isSelfForked:!!(null==(a=A.origin)?void 0:a.isOwner),isTemplateFork:!!r,originId:n,templateReplId:(null==(d=A.source)||null==(u=d.release)||null==(l=u.repl)?void 0:l.id)||void 0,templateTitle:null==(f=A.source)||null==(p=f.release)||null==(s=p.repl)?void 0:s.title,templateOwner:null==(y=A.source)||null==(v=y.release)||null==(m=v.repl)||null==(g=m.owner)?void 0:g.username,templateType:(null==(b=A.source)||null==(Y=b.release)?void 0:Y.repl)?(0,w.i)(A.source.release.repl):void 0,orgContext:(0,h.po)(A.org?{id:A.org.id}:void 0)}))})},[I]),{loading:!!T.loading||!!T.data&&"Repl"===T.data.createRepl.__typename}]}},13028:(e,n,r)=>{r.d(n,{A:()=>l});var t=r(17844),i=r(93629),o=r(81073),a=r(52351);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,t._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M18.505 3.22a.668.668 0 0 1 .99 0l2.8 3a.789.789 0 0 1 0 1.06l-2.8 3a.668.668 0 0 1-.99 0 .789.789 0 0 1 0-1.06l1.534-1.644a26.777 26.777 0 0 0-1.05-.06c-.779-.03-1.701-.027-2.388.08-2.441.382-3.476 2.354-4.685 4.76l-.049.097c-1.143 2.276-2.48 4.937-5.666 5.435-.818.127-1.845.125-2.64.095a27.974 27.974 0 0 1-1.312-.08l-.082-.008-.022-.002h-.008c-.385-.038-.67-.403-.634-.816.035-.412.376-.716.76-.678h.006l.019.002.075.007.283.022c.242.018.58.04.964.054.78.03 1.702.027 2.389-.08 2.441-.382 3.476-2.354 4.685-4.76l.049-.097c1.143-2.276 2.48-4.937 5.666-5.435.818-.127 1.845-.125 2.64-.095a28.06 28.06 0 0 1 1.15.067L18.504 4.28a.789.789 0 0 1 0-1.06ZM2.264 7.6h.005l.019-.002.075-.007.283-.022c.242-.018.58-.04.964-.054.78-.03 1.702-.027 2.389.08 1.196.188 2.044.755 2.737 1.543a.668.668 0 0 0 .99.031.788.788 0 0 0 .029-1.06C8.877 7.112 7.753 6.355 6.2 6.112c-.818-.127-1.845-.125-2.64-.095a28.083 28.083 0 0 0-1.312.08l-.082.008-.022.002h-.008c-.385.038-.67.403-.634.816.035.412.376.716.76.678Zm16.241 6.119a.668.668 0 0 1 .99 0l2.8 3a.788.788 0 0 1 0 1.06l-2.8 3a.668.668 0 0 1-.99 0 .788.788 0 0 1 0-1.06l1.68-1.8-.09.006c-.253.02-.608.042-1.011.057-.795.03-1.822.032-2.64-.096-1.551-.242-2.675-1-3.553-1.998a.788.788 0 0 1 .029-1.06.668.668 0 0 1 .99.032c.692.788 1.54 1.355 2.736 1.542.687.107 1.61.11 2.389.08.384-.014.722-.035.964-.053l.043-.003-1.537-1.647a.788.788 0 0 1 0-1.06Z",clipRule:"evenodd"})}))}},15693:(e,n,r)=>{r.d(n,{A:()=>k});var t,i=r(83846),o=r(81073),a=r(70237),l=r(66890),u=r(36937),d=r(18509),c=r(27023),s=r(28290),p=r(22422),f=r(37582),g=r(4616),h=r(85389),m=r(10327),v=(0,d.x)({radioGroup:[(t={},(0,i._)(t,c.$_.max("tabletMax"),[c.wp.colWithGap(8)]),(0,i._)(t,c.$_.min("tabletMax"),[c.wp.display.grid,{gridTemplateColumns:"1fr 1fr",gap:u.LU.space8,gridAutoFlow:"column"}]),t)],radioContainer:[c.wp.rowWithGap(8),c.wp.align.start,c.wp.p(8),c.wp.border({style:"solid",color:u.LU.outlineDimmest,width:1}),c.wp.borderRadius(8)],radio:[c.wp.pt(2)],labelAndIconRow:[c.wp.rowWithGap(4),c.wp.align.center],label:[c.wp.flex.shrink(1)],unauthorizedText:[c.wp.color.redDefault]}),w=function(e){return e.Public="public",e.Private="private",e}(w||{});let k=function(e){var n,r=e.isPrivate,t=e.setIsPrivate,i=e.privacyAuthz,d=i.privateRepl,c=i.publicRepl,w=e.org,k=(0,s.c)(),y=k("private"),Y=k("public"),b=w.type===l.NT1.Personal?"Only you":"Only ".concat(w.name," organization members");return(0,o.FD)(h.S,{gap:8,children:[(0,o.Y)(a.J,{htmlFor:"privacy",children:(0,o.Y)(g.EY,{children:"Privacy"})}),(0,o.FD)(f.z,{tag:"fieldset",css:v.radioGroup,name:"privacy",value:r?"private":"public",onChange:function(e){t("private"===e.target.value)},children:[(0,o.FD)(h.S,{css:v.radioContainer,children:[(0,o.Y)(h.S,{css:v.radio,children:(0,o.Y)(f.s,{id:y,value:"private",disabled:!d.isAuthorized})}),(0,o.FD)(h.S,{grow:!0,shrink:!0,gap:4,children:[(0,o.Y)(a.J,{htmlFor:y,children:(0,o.FD)(h.S,{css:v.labelAndIconRow,children:[(0,o.FD)(g.EY,{multiline:!1,css:v.label,color:d.isAuthorized?"default":"dimmer",children:["Internal to ",w.name]}),(0,o.Y)(p.e,{src:null!=(n=w.image)?n:null,username:w.name,size:16})]})}),(0,o.Y)(g.EY,{multiline:!0,variant:"small",color:"dimmer",css:!d.isAuthorized&&v.unauthorizedText,children:d.isAuthorized?"".concat(b," can see this Repl. You choose who can edit."):d.message})]})]}),(0,o.FD)(h.S,{css:v.radioContainer,children:[(0,o.Y)(h.S,{css:v.radio,children:(0,o.Y)(f.s,{id:Y,value:"public",disabled:!c.isAuthorized})}),(0,o.FD)(h.S,{grow:!0,shrink:!0,gap:4,children:[(0,o.Y)(a.J,{htmlFor:Y,children:(0,o.FD)(h.S,{css:v.labelAndIconRow,children:[(0,o.Y)(g.EY,{color:c.isAuthorized?"default":"dimmer",children:"Public to Replit"}),(0,o.Y)(m.A,{size:16,color:c.isAuthorized?u.LU.foregroundDefault:u.LU.foregroundDimmer})]})}),(0,o.Y)(g.EY,{multiline:!0,variant:"small",color:"dimmer",css:!c.isAuthorized&&v.unauthorizedText,children:c.isAuthorized?"Anyone can see this Repl. You choose who can edit.":c.message})]})]})]})]})}},17957:(e,n,r)=>{r.d(n,{A:()=>u});var t=r(81073),i=r(18509),o=r(27023),a=r(4616),l=(0,i.x)({self:[o.wp.textAlign.right,o.wp.fontSize("0.75em")]});let u=function(e){var n=e.maxLength,r=e.value,i=e.hideLabel;return(0,t.FD)(a.EY,{css:l.self,multiline:!1,color:"dimmer",children:[(void 0===r?"":r).length," / ",void 0===n?140:n," ",void 0!==i&&i?"":"characters"]})}},23186:(e,n,r)=>{r.d(n,{A:()=>i,k:()=>t});var t=function(e){return e.Initializing="initialize",e.Connecting="connect",e.GettingInitialConfig="get init config",e.ImportingMigrationTemplate="import migration template",e.MergeDotReplit="merge dot replit",e.ExecingPostMigration="exec post migration",e.UpdatingLanguage="set language",e.Finished="finished",e.Failed="error",e}({});function i(e,n){return n?"nix"!==e.language:"nix"!==e.language&&"html"!==e.language}},32228:(e,n,r)=>{r.d(n,{A:()=>h});var t=r(81073),i=r(96034),o=r(77166),a=r(33372),l=r(36937),u=r(18509),d=r(27023),c=r(41358),s=r(4616),p=r(85389),f=r(82409),g=(0,u.x)({upsell:[d.wp.borderRadius(8),d.wp.color.foregroundDefault,d.wp.border({color:l.LU.backgroundHighest})],limit:[d.wp.backgroundColor.backgroundRoot]});let h=function(e){var n=e.shouldBlockReplForm,r=e.onClose,l=e.context,u=e.onPurchaseComplete,d=(0,o.A)();return(0,t.Y)(c.ui,{css:g.upsell,children:d?(0,t.Y)(p.S,{p:20,css:g.limit,children:(0,t.Y)(f.A,{analyticsContext:{upgrade:{context:null!=l?l:"create_repl_modal"}},headingText:"Need to create more Apps?",subHeadingText:"Upgrade to Replit ".concat(i.en," for unlimited private Apps"),isFullscreen:!1,onBack:n?void 0:r})}):(0,t.Y)(a.A,{onClose:r,onPurchaseComplete:u,type:"purchase",analyticsContext:{upgrade:{context:null!=l?l:"create_repl_modal"}},onBack:n?void 0:r,contextualUpsell:n?(0,t.FD)(p.S,{children:[(0,t.Y)(s.EY,{variant:"subheadDefault",children:"Need to create more Apps?"}),(0,t.FD)(s.Y9,{level:3,variant:"subheadBig",children:["Upgrade to Replit ",i.en]})]}):void 0,headingText:"Need to create more Apps?",subHeadingText:"Upgrade to Replit ".concat(i.en," to create more"),highlightUpsell:"replLimit"})})}},48280:(e,n,r)=>{r.d(n,{Ay:()=>b,Hy:()=>v,Lw:()=>Y,u7:()=>y,zl:()=>w});var t=r(29935),i=r(12694),o=r(82643),a=r(81073),l=r(67313),u=r(21462),d=r(74374),c=r(96050),s=r(18509),p=r(27023),f=r(85144),g=r(4616),h=r(85389),m=(0,s.x)({authModal:[p.wp.maxWidth("100%"),p.wp.px(16),p.wp.py(32),p.wp.colWithGap(24),p.wp.align.center,p.wp.justify.center],modalDescription:[p.wp.color.foregroundDimmer,p.wp.maxWidth("60%"),p.wp.textAlign.center]}),v=function(e){var n=e.loginTitle,r=e.signupTitle,t=e.description,o=e.tracking,l=e.onSuccess,c=(0,i._)((0,u.useState)("signup"),2),s=c[0],p=c[1],f=(0,u.useMemo)(function(){return"login"===s?n:r},[s,n,r]);return(0,a.FD)(h.S,{css:m.authModal,"data-cy":"auth-modal",children:[f?(0,a.Y)(g.Y9,{variant:"headerDefault",level:1,children:f}):null,t?(0,a.Y)(g.EY,{variant:"subheadDefault",css:m.modalDescription,children:t}):null,(0,a.Y)(d.A,{customHeader:void 0!==f,isModal:!0,mode:s,onModeChange:function(e){return p(e)},onSuccess:void 0===l?function(){}:l,seededEmail:void 0,initialTenantId:void 0,tracking:o})]})},w="authModal",k=function(e){return"".concat(e.from,":").concat(e.location)},y=function(e){var n=(0,i._)(e.split(":"),2),r=n[0],t=n[1];if(void 0!==r&&void 0!==t)return{from:r,location:t}},Y=function(){var e=(0,t._)(function(e,n){var r;return(0,o.YH)(this,function(t){switch(t.label){case 0:return r=k(n),[4,(0,c.HQ)({router:e,params:[{mode:"add",key:w,value:r}]})];case 1:return t.sent(),[2]}})});return function(n,r){return e.apply(this,arguments)}}();let b=function(e){var n,r=e.loginTitle,s=e.signupTitle,p=e.description,g=e.tracking,h=e.onSuccess,m=void 0===h?function(){}:h,y=(0,l.useRouter)(),Y=(0,c.pE)(w,"string"),b=k(g),A=(0,i._)((0,u.useState)(Y===b),2),_=A[0],R=A[1],x=(0,u.useCallback)((0,t._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,(0,c.HQ)({router:y,params:[{mode:"delete",key:w},{mode:"delete",key:d.C}]})];case 1:return e.sent(),[2]}})}),[y]);return(0,u.useEffect)(function(){b===y.query[w]?R(!0):R(!1)},[b,y.query]),(0,a.Y)(f.a,{isOpen:_,onRequestClose:x,children:_?(0,a.Y)(v,{description:p,loginTitle:r,onSuccess:(n=(0,t._)(function(e){return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,x()];case 1:return n.sent(),m(e),[2]}})}),function(e){return n.apply(this,arguments)}),signupTitle:s,tracking:g}):null})}},59968:(e,n,r)=>{r.d(n,{B:()=>ea,Z:()=>eo});var t=r(29935),i=r(17844),o=r(12694),a=r(82643),l=r(81073),u=r(67313),d=r(21462),c=r(48280),s=r(93629),p=r(90629),f=r(12584),g=r(41114),h=r(86997),m=r(44753);function v(){var e=(0,f._)(["\n  fragment ForkModalCurrentUser on CurrentUser {\n    id\n    url\n    image\n    username\n    fullName\n    ...ReplOwnerCurrentUser\n    teams {\n      id\n      ...ReplOwnerTeam\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function w(){var e=(0,f._)(["\n  query ForkModal {\n    currentUser {\n      id\n      ...ForkModalCurrentUser\n    }\n  }\n  ","\n"]);return w=function(){return e},e}var k={},y=(0,g.J1)(v(),m.nM,m.eC),Y=(0,g.J1)(w(),y),b=r(60542),A=r(15693),_=r(30620),R=r(71920),x=r(22464),C=r(12032),F=r(80457),D=r(96034),E=r(22345),S=r(65097),I=r(18509),T=r(27023),U=r(36073),P=r(85389),z=r(76477),L=function(e){var n=e.isIndividualOwner,r=e.showUpgradeForm,t=(0,o._)((0,d.useState)({type:"closed"}),2),i=t[0],a=t[1],u=(0,F.g)();if(!n||"loading"===u.type||"error"===u.type)return null;var c=u.replCount,s=u.shouldEnforceUsersOverLimit,p=u.isStarterUser,f=s||c===E.q;if(!p||!f)return null;var g=c>=E.q?"(".concat(c,"/").concat(E.q,") You've hit the limit for Apps in the Starter Plan. Upgrade to Replit ").concat(D.en," for unlimited Apps!"):"You have created ".concat(c,"/").concat(E.q," Apps. Click here to upgrade to Replit ").concat(D.en," for unlimited Apps!");return(0,l.FD)(l.FK,{children:[(0,l.Y)(P.S,{tag:"button",css:M.bannerWrapper,onClick:function(e){e.preventDefault(),r?r():a({type:"open",onUpgradeConfirm:u.refetch})},children:(0,l.Y)(U.N,{icon:(0,l.Y)(z.A,{}),colorway:"yellow",text:g})}),(0,l.Y)(S.k,{setState:a,state:i})]})},M=(0,I.x)({bannerWrapper:[T.wp.cursor.pointer,T.wp.borderRadius(),T.wp.textAlign.left]}),O=r(83603),H=r(76554),N=r(79050),q=r(28290),W=r(11769),B=r(40259),J=r(4616),G=r(17957),Z=r(63456),$=r(13028),K=(0,I.x)({fieldLabel:[T.wp.flex.row,T.wp.justify.spaceBetween,T.wp.align.end],fieldError:[T.wp.color.accentNegativeStronger],descriptionTextArea:[T.wp.minHeight(96),T.wp.maxHeight(128),{resize:"vertical"}]}),Q=function(e){var n,r=e.onFork,t=e.hideModal,i=e.initialTitle,a=e.initialDescription,u=e.teamContext,c=e.currentUser,s=e.template,p=e.keepOpenOnFork,f=void 0!==p&&p,g=e.isForking,h=e.orgId,m=e.originReplId,v=(0,d.useRef)(null),w=(0,q.c)(),k=(0,O.ET)().orgId,y=(0,F.g)(),Y=(0,o._)((0,x.p)(c,null!=(n=null!=u?u:h)?n:k),3),D=Y[0],E=Y[1],S=Y[2],I=(0,C.d)(D,m),T=I.isPrivate,U=I.setIsPrivate,z=I.privacyAuthz,M=I.isValidPrivacy,Q="CurrentUser"===D.__typename&&D.id===c.id,V=Q&&"data"===y.type&&!y.canCreateRepl,j=(0,H.W)(i,function(e){if(e&&e.length>60)return{message:"Must be no longer than 60 characters"}}),X=(0,H.W)(void 0===a?"":a,function(e){if(e&&e.length>N.z)return{message:"Must be no longer than ".concat(N.z," characters")}});(0,d.useEffect)(function(){v.current&&v.current.focus()},[v]);var ee="Team"===D.__typename?D.id:null,en=!!(j.error||X.error)||g||!M;return(0,l.Y)("form",{onSubmit:function(e){e.preventDefault(),!(j.validate()||X.validate())&&(r(ee,j.value.trim(),X.value,T,"Org"===D.__typename?D.id:void 0),f||t())},children:(0,l.FD)(P.S,{gap:16,children:[(0,l.Y)(J.Y9,{variant:"headerDefault",level:2,children:s?"Use Template":"Remix App"}),(0,l.FD)(P.S,{gap:16,children:[(0,l.FD)(P.S,{gap:4,children:[(0,l.FD)(P.S,{css:K.fieldLabel,children:[(0,l.Y)(b.J,{for:w("name"),children:"Name"}),(0,l.Y)(G.A,{maxLength:60,value:j.value,hideLabel:!0})]}),(0,l.Y)(B.pd,{ref:v,className:"repl-title-input",placeholder:"Name your App",onChange:function(e){return j.setValue(e.target.value)},onFocus:function(e){return e.target.select()},value:j.value,onBlur:j.handleBlur,id:w("name")}),j.error?(0,l.Y)(J.EY,{css:K.fieldError,multiline:!1,children:j.error.message}):null]}),(0,l.FD)(P.S,{gap:4,children:[(0,l.FD)(P.S,{css:K.fieldLabel,children:[(0,l.Y)(b.J,{for:w("description"),children:"Description"}),(0,l.Y)(G.A,{hideLabel:!0})]}),(0,l.Y)(B.ov,{maxLength:N.z,value:X.value,onChange:function(e){return X.setValue(e.target.value)},placeholder:"What does this App do?",css:K.descriptionTextArea,id:w("description")})]})]}),"Org"===D.__typename?(0,l.Y)(A.A,{isPrivate:T,setIsPrivate:U,privacyAuthz:z,org:D}):(0,l.Y)(_.Z,{isPrivate:T,setIsPrivate:U,privacyAuthz:z,isTeam:!!ee}),S.length>1?(0,l.FD)(P.S,{gap:4,children:[(0,l.Y)(b.J,{for:w("owner"),children:"Owner"}),(0,l.Y)(R.A,{id:w("owner"),owners:S,selectedOwner:D,setSelectedOwner:E,dataCy:"fork-modal-owner-select"})]}):null,(0,l.Y)(L,{isIndividualOwner:Q}),(0,l.FD)(P.S,{row:!0,gap:12,justify:"end",children:[(0,l.Y)(W.$n,{onClick:t,text:"Cancel",type:"button"}),(0,l.Y)(W.$n,{dataCy:"fork-btn",colorway:"primary",type:"submit",disabled:"loading"===y.type||V||en,text:s?(0,l.Y)(l.FK,{children:"Use Template"}):(0,l.Y)(l.FK,{children:"Remix App"}),iconLeft:g||"loading"===y.type?(0,l.Y)(Z.A,{}):(0,l.Y)($.A,{})})]})]})})};function V(e){var n,r,t=(n={fetchPolicy:"cache-and-network",ssr:!1,onError:function(e){p.v4(function(n){n.setTag("fork-modal",!0),p.Cp(e)})}},r=(0,i._)({},k,n),h.I(Y,r)),o=t.data,a=t.loading,u=t.error;if(a&&!o)return(0,l.Y)(J.EY,{color:"dimmer",multiline:!1,children:"Loading..."});if(u)return(0,l.Y)(J.EY,{multiline:!1,children:"Something went wrong."});if(!o)return null;var d=o.currentUser;return d?(0,l.Y)(Q,(0,s._)((0,i._)({},e),{currentUser:d})):(p.Cp(Error("ForkModal was presented to an unauthed user")),(0,l.Y)(U.N,{colorway:"negative",text:"You must be logged in to fork this App"}))}var j=r(32228),X=r(78502),ee=r(6518),en=r(1982),er=r(96050),et=r(85144),ei=(0,d.createContext)({isForking:!1,fork:function(){}}),eo=function(){return(0,d.useContext)(ei)},ea=function(e){var n,r,s,p=e.children,f=e.forkParams,g=e.navigateAfterFork,h=e.onFork,m=e.repl,v=e.teamContext,w=e.template,k=e.autorun,y=(0,u.useRouter)(),Y=(0,en.A)().showError,b=(0,X.T)(),A=(0,er.pE)("forkRepl","string"),_=(0,er.pE)("forkContext","string"),R=(0,o._)((0,d.useState)(),2),x=R[0],C=R[1],D=(0,d.useMemo)(function(){return null===b},[b]),E=f.trackingData.forkSource,S=(0,F.g)(),I="data"===S.type&&S.shouldBlockReplForm,T=(0,o._)((0,ee.A)({replLinkOptions:{autorun:void 0!==k&&k},navigateAfterFork:void 0===g||g,onFork:h,onError:function(){Y("Error forking App")}}),2),U=T[0],P=T[1].loading,z=(0,d.useCallback)((0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:if(!D)return[3,2];return[4,(0,er.HQ)({router:y,params:[{mode:"add",key:"forkRepl",value:m.id},{mode:"add",key:"forkContext",value:E}]})];case 1:return e.sent(),C("auth"),[3,3];case 2:I?C("limited"):C("fork"),e.label=3;case 3:return[2]}})}),[D,m.id,y,E,I]),L=(0,d.useCallback)((0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,(0,er.HQ)({router:y,params:[{mode:"delete",key:"forkRepl"},{mode:"delete",key:"forkContext"}]})];case 1:return e.sent(),C(void 0),[2]}})}),[y]);return(0,d.useEffect)(function(){A===m.id&&_===E&&(D?C("auth"):I?C("limited"):C("fork"))},[A,_,D,m.id,E,I]),(0,l.FD)(ei.Provider,{value:{isForking:P,fork:z},children:[p,(0,l.FD)(et.a,{isOpen:void 0!==x,onRequestClose:function(){return L()},maxWidth:"limited"===x?1e3:et.S,noPadding:"limited"===x,children:["limited"===x?(0,l.Y)(j.A,{shouldBlockReplForm:I,onClose:function(){return L()},onPurchaseComplete:function(){return C("fork")},context:"fork_modal_limit_reached"}):null,"auth"===x?(0,l.Y)(c.Hy,{loginTitle:"Log in to Remix this App",signupTitle:"Sign up to Remix this App",onSuccess:function(){return C("fork")},tracking:{from:E,location:null!=(r=f.trackingData.location)?r:"fork"}}):null,"fork"===x?(0,l.Y)(V,{hideModal:function(){return L()},onFork:function(e,n,r,t,o){return U((0,i._)({originId:m.id,teamId:e,title:n,description:r,isPrivate:t,forkToPersonal:null===e&&null==o,orgId:o},f))},initialTitle:m.title,initialDescription:null!=(s=m.description)?s:void 0,orgId:null==(n=m.org)?void 0:n.id,teamContext:v,template:w,originReplId:m.id}):null]})]})}},64631:(e,n,r)=>{r.d(n,{i:()=>i});var t=r(13843);function i(e){var n;return(null==(n=e.owner)?void 0:n.username)===t.GA?"official":"community"}},65097:(e,n,r)=>{r.d(n,{k:()=>u});var t=r(81073),i=r(96034),o=r(22345),a=r(73745),l=r(4616),u=function(e){var n=e.setState,r=e.state,u=e.centered;return(0,t.Y)(a.default,{isOpen:"open"===r.type,onClose:function(){n({type:"closed"})},type:"purchase",onPurchaseComplete:function(){"open"===r.type&&r.onUpgradeConfirm()},headingText:"Upgrade for More Apps",subHeadingText:"Upgrade to Replit ".concat(i.en," to create more than ").concat(o.q," Apps"),contextualUpsell:(0,t.FD)(t.FK,{children:[(0,t.Y)(l.EY,{variant:"subheadBig",children:"Upgrade for More Apps"}),(0,t.FD)(l.EY,{multiline:!0,children:["Upgrade to Replit ",i.en," to create more than"," ",o.q," Apps."]})]}),analyticsContext:{upgrade:{context:"repl_limit_upsell"}},centered:u})}},78502:(e,n,r)=>{r.d(n,{T:()=>c});var t=r(17844),i=r(12584),o=r(41114),a=r(86997);function l(){var e=(0,i._)(["\n  query CurrentUserId {\n    currentUser {\n      id\n    }\n  }\n"]);return l=function(){return e},e}var u={},d=(0,o.J1)(l());function c(){var e,n,r=(e=(0,t._)({},u,void 0),a.I(d,e)).data;return(null==r||null==(n=r.currentUser)?void 0:n.id)||null}},79050:(e,n,r)=>{r.d(n,{z:()=>t});var t=1e3}}]);
//# sourceMappingURL=9968-69e9327c5b279258.js.map